# Example Project: AnalyzerUtilities assembly resolution failing on runtime

This repo contains the default analyzer template generated by Jetbrains Rider IDE.

It has been adjusted in the following ways:
- Added `Program.cs` and made the `base_analyzer.Sample` project runnable
- Added `SomeAbstractValue` class to the `base_analyzer` project so that something exists that references the `Microsoft.CodeAnalyzers.AnalyzerUtilities` library
- Added `var someVal = new SomeAbstractValue();` line to `Initialize` method of the `SampleSemanticAnalyzer.cs` file so that the assembly including file gets referenced
- Added `AnalyzerUtilities` package reference to `base_analyzer.csproj` file
everything else has been kept exactly the same as in the example analyzer project to not introduce any unintentional side effects.

## Reproducing the error

To reproduce the error, please clone the project, cd into the `base_analyzer.Sample` directory and run `dotnet run`. This should yield the following error message:

```
CSC : warning AD0001: Analyzer 'base_analyzer.SampleSemanticAnalyzer' threw an exception of type 'System.IO.FileNotFoundException' with message 'Could not load file or assembly 'Microsoft.CodeAnalysis.AnalyzerUtilities, Version=3.3.8.6701, Culture=neutral, PublicKeyToken=31bf3856ad364e35'. The system cannot find the file specified.
```

Changing the `AnalyzerUtilities` package's version from `3.3.4` to something else in the `PackageReference` does not fix the error but instead yields other versions than `3.3.8.6701` that he unsuccessfully tries to load instead.

